<div class="container" ng-init="loadMember()">

	<form class="form-horizontal container" name="memberForm" novalidate>
		<div class="row">
			<table class="table">
				<tr>
					<th>Member Id</th>
					<td>{{member.member_id}}</td>
					<th>Member Type * </th>
					<td>
						<select  ng-model="member.member_type">
							<option value="Honor">Honor</option>
							<option value="Normal">Normal</option>
						</select>
					</td>
					<th>Is Active</th>
					<td><input type="checkbox" ng-model="member.is_active"></select></td>
				</tr>
				<tr>
					<th>Last Name * </th>
					<td><input ng-model="member.last_name"></td>
					<th>First Name * </th>
					<td><input ng-model="member.first_name"></td>
					<th>Nickname</th>
					<td><input ng-model="member.nickname"></td>
				</tr>
				<tr>
					<th>Gender</th>
					<td><select ng-model="member.sex">
						<option value="M">Male</option>
						<option value="F">Female</option>
						</select></td>
					<th>Email * </th>
					<td><input type="email" ng-model="member.email"></select></td>
					<th>Phone</th>
					<td><input ng-model="member.phone"></td>
				</tr>
				<tr>
					<th>Address</th>
					<td colspan="3"><input ng-model="member.address"></td>
				</tr>
				<tr>
					<th>Description</th>
					<td colspan="3"><textarea ng-model="member.description"></textarea></td>
				</tr>
			</table>
		</div>

		<!-- Buttons -->
		<div class="row">
			<button class="btn btn-primary col-md-4 col-md-offset-4" ng-click="saveMember()"> SAVE </button>
		</div>

		<ul class="nav nav-tabs" ng-init="tab = 1">
			<li ng-class="{ active : tab === 1 }">
				<a href ng-click="tab = 1">Attendances</a>
			</li>
			<li ng-class="{ active : tab === 2 }">
				<a href ng-click="tab = 2">Skills</a>
			</li>
		</ul>

		<!-- Attendances Tab, only visible on mode "read"-->
		<div ng-show="tab === 1" ng-init="loadMemberAttendances()">
			<br/>
			<table class="table">
				<tr>
					<td colspan="3">Total Attendances: {{member.attendances.length}}</td>
				</tr>
				<tr>
					<th>Activity Id</th>
					<th>Activity Name</th>
					<th>Activity Date</th>
				</tr>
				<tr ng-repeat="attendance in member.attendances | orderBy:attendance.date:reverse | limitTo: 10">
					<td>{{attendance.activity_id}}</td>
					<td>{{attendance.activity_name}}</td>
					<td>{{attendance.timestart | date : mediumDate}}</td>
				</tr>
				
			</table>
		</div>

		<!-- SKILL Tab -->
		<div ng-show="tab === 2">
			<table class="table" ng-init="loadMemberSkills()">
				<tr>
					<th>Skill</th>
					<th>Level</th>
					<th></th>
				</tr>

				<tr ng-repeat="skill in member.skills | orderBy:skill.level:reverse">
					<td>{{skill.name}}</td>
					<td>{{skill.level}}</td>
					<td><a href ng-click="deleteSkill(skill)">delete</a></td>
				</tr>
				<tr> 
					<td><input ng-model="newSkill.name" ></td>
					<td>
						<select ng-model="newSkill.level">
							<option value="1">Beginner</option>
							<option value="2">Intemidiare</option>
							<option value="3">Expert</option>
						</select>
					</td>
					<td><a href ng-click='addNewSkill()'>Add</a></td>
				</tr>
			</table>
		</div>
	</form>
</div>
